<html>
  <head>
    <link rel="stylesheet" href="dist/themes/default/style.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="dist/jstree.min.js"></script>
  </head>
  <body>
    <div id="container">
    </div>

  <script>
    $(function() {
        fetch('https://api.github.com/orgs/AtlasOfLivingAustralia/repos')
            .then(function(response) {
                return response.json();
            })
            .then(function(myJson) {
                var input_data = [];
                myJson.forEach(function(repo) {
                    input_data.push({
                        'text': repo.name,
                        'id':   repo.id,
                        'state': {
                          'opened':   false,
                          'disabled': false,
                          'selected': false
                        },
                        'children' : [
                            {
                                'text': repo.description,
                                'icon': 'jstree-file'
                            },
                            {
                                'text': repo.html_url,
                                'icon': 'jstree-file'
                            }
                        ]
                    });
                });

                console.log(input_data);

                console.log("BEFORE jstree");

                $('#container').jstree({
                    'core' : {
                        'data': input_data
                    }
                });
            });
      })
  </script>
  </body>
</html>
